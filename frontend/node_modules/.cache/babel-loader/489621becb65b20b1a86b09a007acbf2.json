{"ast":null,"code":"import _asyncToGenerator from\"F:\\\\Web Projects\\\\Web\\\\TSp-Line\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"F:\\\\Web Projects\\\\Web\\\\TSp-Line\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\Web Projects\\\\Web\\\\TSp-Line\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useContext}from'react';import NavBar from'../components/Navbar/NavBar';import Footer from'../components/Footer';import axios from'axios';import{Navigate,useNavigate}from'react-router-dom';import{Context}from'../index.js';import{toast}from\"react-hot-toast\";import{HashLink}from'react-router-hash-link';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(Context),isAuthenticated=_useContext.isAuthenticated,setIsAuthenticated=_useContext.setIsAuthenticated;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var navigateTo=useNavigate();var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"https://tsp-line.onrender.com/api/v1/user/login\",{email:email,password:password,confirmPassword:confirmPassword,role:\"User\"},{withCredentials:true,headers:{\"Content-Type\":\"application/json\"}}).then(function(res){toast.success(res.data.message);setIsAuthenticated(true);navigateTo(\"/\");setEmail(\"\");setPassword(\"\");setConfirmPassword(\"\");});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);toast.error(_context.t0.response.data.message);case 9:case\"end\":return _context.stop();}}},_callee,null,[[1,6]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();if(isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NavBar,{})}),/*#__PURE__*/_jsx(\"div\",{id:\"demo\",className:\"flex justify-center items-center mt-8 w-full bg-white py-12 lg:py-24\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto my-8 px-4 lg:px-20\",\"data-aos\":\"zoom-in\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleLogin,id:\"loginProductForm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full bg-white p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mr-auto rounded-2xl shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-center lg:text-left text-blue-900 uppercase text-4xl\",children:\"Login our products\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"email\",className:\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\",type:\"email\",placeholder:\"Email*\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"password\",className:\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\",type:\"number\",placeholder:\"password*\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})}),/*#__PURE__*/_jsx(\"input\",{name:\"confirmPassword\",placeholder:\"confirmPassword*\",className:\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\",type:\"number\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-around mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-white bg-blue-900 hover:bg-blue-800 inline-flex items-center justify-center w-auto px-6 py-3 shadow-xl rounded-xl\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-black dark:text-black\",children:[\"Not registered?\",\" \",/*#__PURE__*/_jsx(HashLink,{to:\"/register\",className:\"underline text-blue-500 cursor-pointer\",children:\"Register\"}),\" \"]})]})]})})})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Login;","map":{"version":3,"sources":["F:/Web Projects/Web/TSp-Line/frontend/src/pages/Login.js"],"names":["React","useState","useContext","NavBar","Footer","axios","Navigate","useNavigate","Context","toast","HashLink","Login","isAuthenticated","setIsAuthenticated","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","navigateTo","handleLogin","e","preventDefault","post","role","withCredentials","headers","then","res","success","data","message","error","response","target","value"],"mappings":"iZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,kBAAtC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAAQC,KAAR,KAAoB,iBAApB,CACA,OAASC,QAAT,KAAyB,wBAAzB,C,6IAGA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAIlB,gBAAgDT,UAAU,CAACM,OAAD,CAA1D,CAAQI,eAAR,aAAQA,eAAR,CAAyBC,kBAAzB,aAAyBA,kBAAzB,CAEE,cAA0BZ,QAAQ,CAAC,EAAD,CAAlC,wCAAOa,KAAP,eAAcC,QAAd,eACA,eAAgCd,QAAQ,CAAC,EAAD,CAAxC,yCAAOe,QAAP,eAAiBC,WAAjB,eACA,eAA8ChB,QAAQ,CAAC,EAAD,CAAtD,yCAAOiB,eAAP,eAAwBC,kBAAxB,eAGF,GAAMC,CAAAA,UAAU,CAAGb,WAAW,EAA9B,CAIE,GAAMc,CAAAA,WAAW,0FAAG,iBAAOC,CAAP,kHAChBA,CAAC,CAACC,cAAF,GADgB,sCAGRlB,CAAAA,KAAK,CACRmB,IADG,CAEF,iDAFE,CAGF,CAAEV,KAAK,CAALA,KAAF,CAASE,QAAQ,CAARA,QAAT,CAAmBE,eAAe,CAAfA,eAAnB,CAAoCO,IAAI,CAAE,MAA1C,CAHE,CAIF,CACEC,eAAe,CAAE,IADnB,CAEEC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFX,CAJE,EASHC,IATG,CASE,SAACC,GAAD,CAAS,CACbpB,KAAK,CAACqB,OAAN,CAAcD,GAAG,CAACE,IAAJ,CAASC,OAAvB,EACAnB,kBAAkB,CAAC,IAAD,CAAlB,CACAO,UAAU,CAAC,GAAD,CAAV,CACAL,QAAQ,CAAC,EAAD,CAAR,CACAE,WAAW,CAAC,EAAD,CAAX,CACAE,kBAAkB,CAAC,EAAD,CAAlB,CACD,CAhBG,CAHQ,sFAqBdV,KAAK,CAACwB,KAAN,CAAY,YAAMC,QAAN,CAAeH,IAAf,CAAoBC,OAAhC,EArBc,mEAAH,kBAAXX,CAAAA,WAAW,4CAAjB,CAyBE,GAAIT,eAAJ,CAAqB,CACnB,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAE,GAAd,EAAP,CACD,CAEH,mBACI,wCACI,kCACI,KAAC,MAAD,IADJ,EADJ,cAII,YAAK,EAAE,CAAC,MAAR,CAAe,SAAS,CAAC,sEAAzB,uBACI,YAAK,SAAS,CAAC,sCAAf,CAAsD,WAAS,SAA/D,uBACI,aAAM,QAAQ,CAAES,WAAhB,CAA6B,EAAE,CAAC,kBAAhC,uBACI,aAAK,SAAS,CAAC,8FAAf,wBACI,YAAK,SAAS,CAAC,MAAf,uBACI,WAAI,SAAS,CAAC,qEAAd,gCADJ,EADJ,cAIE,kCACU,cACI,IAAI,CAAC,OADT,CAEI,SAAS,CAAC,8FAFd,CAGI,IAAI,CAAC,OAHT,CAII,WAAW,CAAC,QAJhB,CAKI,KAAK,CAAEP,KALX,CAMI,QAAQ,CAAE,kBAACQ,CAAD,QAAMP,CAAAA,QAAQ,CAACO,CAAC,CAACa,MAAF,CAASC,KAAV,CAAd,EANd,EADV,EAJF,cAcQ,kCACI,cACI,IAAI,CAAC,UADT,CAEI,SAAS,CAAC,8FAFd,CAGI,IAAI,CAAC,QAHT,CAII,WAAW,CAAC,WAJhB,CAKI,KAAK,CAAEpB,QALX,CAMI,QAAQ,CAAE,kBAACM,CAAD,QAAML,CAAAA,WAAW,CAACK,CAAC,CAACa,MAAF,CAASC,KAAV,CAAjB,EANd,EADJ,EAdR,cAyBI,cACI,IAAI,CAAC,iBADT,CAEI,WAAW,CAAC,kBAFhB,CAGI,SAAS,CAAC,8FAHd,CAII,IAAI,CAAC,QAJT,CAKI,KAAK,CAAElB,eALX,CAMI,QAAQ,CAAE,kBAACI,CAAD,QAAMH,CAAAA,kBAAkB,CAACG,CAAC,CAACa,MAAF,CAASC,KAAV,CAAxB,EANd,EAzBJ,cAkCZ,aAAK,SAAS,CAAC,0BAAf,wBACE,eAAQ,SAAS,CAAC,wHAAlB,mBADF,cAIE,WAAG,SAAS,CAAC,4BAAb,6BACkB,GADlB,cAEE,KAAC,QAAD,EACE,EAAE,CAAC,WADL,CAEE,SAAS,CAAC,wCAFZ,sBAFF,CAOc,GAPd,GAJF,GAlCY,GADJ,EADJ,EADJ,EAJJ,cA2DI,KAAC,MAAD,IA3DJ,GADJ,CAiEH,CA7GD,CA+GA,cAAezB,CAAAA,KAAf","sourcesContent":["import React, { useState, useContext } from 'react';\nimport NavBar from '../components/Navbar/NavBar';\nimport Footer from '../components/Footer';\nimport axios from 'axios';\nimport { Navigate, useNavigate } from 'react-router-dom';\nimport { Context } from '../index.js';\nimport {toast} from \"react-hot-toast\";\nimport { HashLink } from 'react-router-hash-link';\n\n\nconst Login = () => {\n\n\n    \n  const { isAuthenticated, setIsAuthenticated } = useContext(Context);\n\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [confirmPassword, setConfirmPassword] = useState('')\n\n    \n  const navigateTo = useNavigate();\n\n\n    \n    const handleLogin = async (e) => {\n        e.preventDefault();\n        try {\n          await axios\n            .post(\n              \"https://tsp-line.onrender.com/api/v1/user/login\",\n              { email, password, confirmPassword, role: \"User\" },\n              {\n                withCredentials: true,\n                headers: { \"Content-Type\": \"application/json\" },\n              }\n            )\n            .then((res) => {\n              toast.success(res.data.message);\n              setIsAuthenticated(true);\n              navigateTo(\"/\");\n              setEmail(\"\");\n              setPassword(\"\");\n              setConfirmPassword(\"\");\n            });\n        } catch (error) {\n          toast.error(error.response.data.message);\n        }\n      };\n    \n      if (isAuthenticated) {\n        return <Navigate to={\"/\"} />;\n      }\n    \n    return (\n        <>\n            <div>\n                <NavBar />\n            </div>\n            <div id='demo' className=\"flex justify-center items-center mt-8 w-full bg-white py-12 lg:py-24\">\n                <div className=\"container mx-auto my-8 px-4 lg:px-20\" data-aos=\"zoom-in\">\n                    <form onSubmit={handleLogin} id=\"loginProductForm\">\n                        <div className=\"w-full bg-white p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mr-auto rounded-2xl shadow-2xl\">\n                            <div className=\"flex\">\n                                <h1 className=\"font-bold text-center lg:text-left text-blue-900 uppercase text-4xl\">Login our products</h1>\n                            </div>\n                          <div>\n                                    <input \n                                        name=\"email\"\n                                        className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n                                        type=\"email\" \n                                        placeholder=\"Email*\"\n                                        value={email}\n                                        onChange={(e)=> setEmail(e.target.value)}\n                                    />\n                                </div>\n                                <div>\n                                    <input\n                                        name=\"password\" \n                                        className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n                                        type=\"number\" \n                                        placeholder=\"password*\"\n                                        value={password}\n                                        onChange={(e)=> setPassword(e.target.value)}\n                                    />\n                                </div>\n                       \n                            <input \n                                name=\"confirmPassword\" \n                                placeholder=\"confirmPassword*\" \n                                className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n                                type=\"number\" \n                                value={confirmPassword}\n                                onChange={(e)=> setConfirmPassword(e.target.value)}\n                            />\n                           {/* Button */}\n            <div className=\"flex justify-around mt-6\">\n              <button className=\"text-white bg-blue-900 hover:bg-blue-800 inline-flex items-center justify-center w-auto px-6 py-3 shadow-xl rounded-xl\">\n                Login\n              </button>\n              <p className=\"text-black dark:text-black\">\n                Not registered?{\" \"}\n                <HashLink\n                  to=\"/register\"\n                  className=\"underline text-blue-500 cursor-pointer\"\n                >\n                  Register\n                </HashLink>{\" \"}\n              </p>\n            </div>\n                    </div>\n                    </form>\n                </div>\n            </div>\n            <Footer />\n        </>\n\n\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}