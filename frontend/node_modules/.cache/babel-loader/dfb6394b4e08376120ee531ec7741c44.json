{"ast":null,"code":"import _asyncToGenerator from\"F:\\\\Web Projects\\\\Web\\\\TSp-Line\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"F:\\\\Web Projects\\\\Web\\\\TSp-Line\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\Web Projects\\\\Web\\\\TSp-Line\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useContext}from'react';import NavBar from'../components/Navbar/NavBar';import Footer from'../components/Footer';import axios from'axios';import{Navigate,useNavigate}from\"react-router-dom\";import{Context}from'../index.js';import{toast}from\"react-hot-toast\";import{HashLink}from'react-router-hash-link';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),phone=_useState8[0],setPhone=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useContext=useContext(Context),isAuthenticated=_useContext.isAuthenticated,setIsAuthenticated=_useContext.setIsAuthenticated;var navigateTo=useNavigate();var handleRegistration=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"https://tsp-line.onrender.com/api/v1/user/user/register\",{firstName:firstName,lastName:lastName,email:email,phone:phone,password:password,role:\"User\"},{withCredentials:true,headers:{\"Content-Type\":\"application/json\"}}).then(function(res){toast.success(res.data.message);setIsAuthenticated(true);navigateTo(\"/\");setFirstName(\"\");setLastName(\"\");setEmail(\"\");setPhone(\"\");setPassword(\"\");});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);toast.error(_context.t0.response.data.message);case 9:case\"end\":return _context.stop();}}},_callee,null,[[1,6]]);}));return function handleRegistration(_x){return _ref.apply(this,arguments);};}();if(isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NavBar,{})}),/*#__PURE__*/_jsx(\"div\",{id:\"demo\",className:\"flex justify-center items-center mt-8 w-full bg-white py-12 lg:py-24\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto my-8 px-4 lg:px-20\",\"data-aos\":\"zoom-in\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleRegistration,id:\"demoProductForm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full bg-white p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mr-auto rounded-2xl shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-center lg:text-left text-blue-900 uppercase text-4xl\",children:\"Register our products\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-5 md:grid-cols-2 mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"first_name\",className:\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\",type:\"text\",placeholder:\"First Name*\",value:firstName,onChange:function onChange(e){return setFirstName(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"last_name\",className:\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\",type:\"text\",placeholder:\"Last Name*\",value:lastName,onChange:function onChange(e){return setLastName(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"email\",className:\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\",type:\"email\",placeholder:\"Email*\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"phone_number\",className:\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\",type:\"number\",placeholder:\"Phone*\",value:phone,onChange:function onChange(e){return setPhone(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"my-4\",children:/*#__PURE__*/_jsx(\"input\",{name:\"password\",placeholder:\"password*\",className:\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\",type:\"number\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-around mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-white bg-blue-900 hover:bg-blue-800 inline-flex items-center justify-center w-auto px-6 py-3 shadow-xl rounded-xl\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-black dark:text-black\",children:[\"Not registered?\",\" \",/*#__PURE__*/_jsx(HashLink,{to:\"/login\",className:\"underline text-blue-500 cursor-pointer\",children:\"Login\"}),\" \"]})]})]})})})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Register;","map":{"version":3,"sources":["F:/Web Projects/Web/TSp-Line/frontend/src/pages/Register.js"],"names":["React","useState","useContext","NavBar","Footer","axios","Navigate","useNavigate","Context","toast","HashLink","Register","firstName","setFirstName","lastName","setLastName","email","setEmail","phone","setPhone","password","setPassword","isAuthenticated","setIsAuthenticated","navigateTo","handleRegistration","e","preventDefault","post","role","withCredentials","headers","then","res","success","data","message","error","response","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport NavBar from '../components/Navbar/NavBar';\r\nimport Footer from '../components/Footer';\r\nimport axios from 'axios';\r\nimport {  Navigate, useNavigate } from \"react-router-dom\";\r\nimport { Context } from '../index.js';\r\nimport {toast} from \"react-hot-toast\";\r\nimport { HashLink } from 'react-router-hash-link';\r\n\r\nconst Register = () => {\r\n\r\n\r\n    const [firstName, setFirstName] = useState('')\r\n    const [lastName, setLastName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [phone, setPhone] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n\r\n    const { isAuthenticated, setIsAuthenticated } = useContext(Context);\r\n    \r\n    const navigateTo = useNavigate();\r\n\r\n    const handleRegistration = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n          await axios\r\n            .post(\r\n              \"https://tsp-line.onrender.com/api/v1/user/user/register\",\r\n              { firstName, lastName, email, phone, password, role: \"User\" },\r\n              {\r\n                withCredentials: true,\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n              }\r\n            )\r\n            .then((res) => {\r\n              toast.success(res.data.message);\r\n              setIsAuthenticated(true);\r\n              navigateTo(\"/\");\r\n              setFirstName(\"\");\r\n              setLastName(\"\");\r\n              setEmail(\"\");\r\n              setPhone(\"\");\r\n              setPassword(\"\");\r\n            });\r\n        } catch (error) {\r\n          toast.error(error.response.data.message);\r\n        }\r\n      };\r\n    \r\n      if (isAuthenticated) {\r\n        return <Navigate to={\"/\"} />;\r\n      }\r\n    return (\r\n        <>\r\n            <div>\r\n                <NavBar />\r\n            </div>\r\n            <div id='demo' className=\"flex justify-center items-center mt-8 w-full bg-white py-12 lg:py-24\">\r\n                <div className=\"container mx-auto my-8 px-4 lg:px-20\" data-aos=\"zoom-in\">\r\n                    <form onSubmit={handleRegistration} id=\"demoProductForm\">\r\n                        <div className=\"w-full bg-white p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mr-auto rounded-2xl shadow-2xl\">\r\n                            <div className=\"flex\">\r\n                                <h1 className=\"font-bold text-center lg:text-left text-blue-900 uppercase text-4xl\">Register our products</h1>\r\n                            </div>\r\n                            <div className=\"grid grid-cols-1 gap-5 md:grid-cols-2 mt-5\">\r\n                                <div>\r\n                                    <input \r\n                                        name=\"first_name\" \r\n                                        className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\r\n                                        type=\"text\" \r\n                                        placeholder=\"First Name*\" \r\n                                        value={firstName}\r\n                                        onChange={(e)=> setFirstName(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                \r\n                                <div>\r\n                                    <input \r\n                                        name=\"last_name\" \r\n                                        className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\r\n                                        type=\"text\" \r\n                                        placeholder=\"Last Name*\"\r\n                                        value={lastName}\r\n                                        onChange={(e)=> setLastName(e.target.value)}\r\n                                    />\r\n                                    \r\n                                </div>\r\n\r\n                                <div>\r\n                                    <input \r\n                                        name=\"email\"\r\n                                        className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\r\n                                        type=\"email\" \r\n                                        placeholder=\"Email*\"\r\n                                        value={email}\r\n                                        onChange={(e)=> setEmail(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <input\r\n                                        name=\"phone_number\" \r\n                                        className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\r\n                                        type=\"number\" \r\n                                        placeholder=\"Phone*\"\r\n                                        value={phone}\r\n                                        onChange={(e)=> setPhone(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                        </div>\r\n                        <div className=\"my-4\">\r\n                            <input \r\n                                name=\"password\" \r\n                                placeholder=\"password*\" \r\n                                className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\r\n                                type=\"number\" \r\n                                value={password}\r\n                                onChange={(e)=> setPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n                                   {/* Button */}\r\n            <div className=\"flex justify-around mt-6\">\r\n              <button className=\"text-white bg-blue-900 hover:bg-blue-800 inline-flex items-center justify-center w-auto px-6 py-3 shadow-xl rounded-xl\">\r\n                Register\r\n              </button>\r\n              <p className=\"text-black dark:text-black\">\r\n                Not registered?{\" \"}\r\n                <HashLink\r\n                  to=\"/login\"\r\n                  className=\"underline text-blue-500 cursor-pointer\"\r\n                >\r\n                  Login\r\n                </HashLink>{\" \"}\r\n              </p>\r\n            </div>\r\n                    </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}